{% extends base_template %}

{% block title %}My Reviews - HotelManager6000{% endblock %}

{% block content %}
    <div class="container">
        <h2 class="mb-4">My Reviews</h2>
        {% if reviews %}
            <div class="list-group">
                {% for review in reviews %}
                    <div class="list-group-item">
                        <h5>{{ review.hotel.name }}</h5>
                        <h6>{{ review.hotel.location }}</h6>
                        <p style="margin-bottom: 2px">Rating: {{ review.rating }} Stars</p>
                        <p>{{ review.comment }}</p>
                        <small class="text-muted">Reviewed on {{ review.created_at|date:"F d, Y" }}</small>

                        <div class="mt-2">
                            <a href="{% url 'patron:patron_view_hotel' review.hotel.id %}" class="btn btn-primary btn-sm">View Hotel</a>
                            <a href="{% url 'patron:edit_review' review.id %}" class="btn btn-secondary btn-sm">Edit Review</a>
                            <a href="{% url 'patron:delete_review' review.id %}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this review?');">Delete Review</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>You haven't reviewed any hotels yet.</p>
        {% endif %}
    </div>
{% endblock %}
