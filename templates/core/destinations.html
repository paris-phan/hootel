<!-- {#
  REFERENCES
  Written For The Course: [CS 3240, Spring 2025]

  © 2025 Paris Phan | SPDX-License-Identifier: MIT

  Resource: Claude 3.7 Sonnet
  Author: Anthropic
  Date: Spring 2024
  URL: https://claude.ai

  - Snippets (CSS/layout/handlers) assisted by Claude 3.7 Sonnet (Anthropic). Note: There were citations in  script areas, but removed due to concern of bugs and breaking during parsing
  - No multi-line algorithms or backend logic were AI-generated.
  - Full provenance & prompt logs → _documentation/code_references.md

  This reference acts as a record of LLM assistance for all html/css lines in this file.
#} -->


{% extends "base.html" %}
{% load static %}

{% block title %}Destinations | Hootel Resorts, Hotels &amp; Residences{% endblock %}

{% block extra_css %}
<style>
  /* Additional styles specific to the destinations page */
  .destinations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }
  
  .destination-hero {
    position: relative;
    height: 400px;
    overflow: hidden;
    margin-bottom: 3rem;
  }
  
  .destination-hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .destination-hero-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 2rem;
    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
    color: #F7F5F1;
  }
  
  .filter-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 1rem 0;
    border-bottom: 1px solid #dad9d7;
  }
  
  .filter-bar button {
    background: none;
    border: none;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-size: 0.875rem;
    letter-spacing: 0.1rem;
    text-transform: uppercase;
    color: #9D5248;
    opacity: 0.7;
    transition: opacity 0.3s;
  }
  
  .filter-bar button.active {
    opacity: 1;
    border-bottom: 1px solid #9D5248;
  }
  
  /* Search Bar Styles */
  .search-bar {
    max-width: 500px;
    margin: 0;
  }
  
  .search-bar input {
    padding: 0.75rem 1rem;
    border: none;
    border-bottom: 1px solid #dad9d7;
    border-radius: 0;
    font-size: 1rem;
    width: 100%;
    background: transparent;
  }
  
  .search-bar input:focus {
    outline: none;
    border-color: #9D5248;
  }
  
  /* Card Styles */
  .slider-card {
    height: 100%;
  }
  
  .slider-card .card {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .slider-card .media--responsive {
    height: 250px;
    overflow: hidden;
  }
  
  .slider-card .media--responsive img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }
  
  .slider-card .media--responsive img:hover {
    transform: scale(1.05);
  }
  
  .slider-card figcaption {
    flex: 1;
    padding: 1rem;
  }
  
  .slider-card figcaption p {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 1rem;
  }
  
  .slider-card .card__post-link-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem;
    background-color: var(--color-background);
    border-top: 1px solid var(--color-border);
  }
  
  .card__link__cta {
    color: var(--color-text);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
  }
  
  .card__link__cta:hover {
    color: var(--color-primary);
  }
  
  .card__post-link-content p {
    margin: 0;
    color: var(--color-text);
    font-weight: 500;
  }
  
  @media (max-width: 768px) {
    .destination-hero {
      height: 300px;
    }
  }
  
  /* Banner Section Styles */
  .banner-section {
    position: relative;
    overflow: hidden;
  }
  
  .banner-section img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    min-height: 400px;
  }
  
  .banner-section .col-md-6 {
    padding: 0;
  }
  
  .banner-section .col-md-6:first-child {
    position: relative;
  }
  
  .banner-section .col-md-6:last-child {
    padding: 2rem;
  }
</style>
{% endblock %}

{% block content %}
<!-- Hero Banner -->
<section class="destination-hero">
  <video autoplay muted loop class="w-100">
    <source src="{% static 'videos/destinations-hero.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>

<!-- Intro Section -->
<section class="container container--spacer gutter">
  <header class="hgroup hgroup--limited text--centered">
    <p class="subtitle">Hootel Destinations</p>
    <h2 class="heading-h">Extraordinary Places</h2>
    <div class="hgroup__intro">
      <p>From the pristine paradise islands of Indonesia and the Philippines to the cultural and historic gems of Montenegro, Japan and Saudi Arabia, Hootel's constellation of destinations is diverse and unique.</p>
    </div>
  </header>
  
  <!-- Search Bar -->
  <div class="search-bar mb-4">
    <input type="text" id="destinationSearch" class="form-control" placeholder="Search destinations..." aria-label="Search destinations">
  </div>
  
  <!-- Filter Bar -->
  <div class="filter-bar">
    <button class="active" data-filter="all">All Destinations</button>
    {% for collection in collections %}
      {% if collection.is_region %}
        <button data-filter="collection-{{ collection.id }}">{{ collection.title }}</button>
      {% endif %}
    {% endfor %}
  </div>
  
  <!-- Destinations Grid -->
  <div class="destinations-grid">
    {% for destination in destinations %}
    <div class="slider-card" data-region="{{ destination.region }}" data-collections="{{ destination.collection_ids|join:',' }}">
      <article class="card card--centered">
        <div class="media media--responsive">
          {% if destination.representative_image %}
            <img src="{{ destination.representative_image }}" alt="{{ destination.name }}" class="img-fluid">
          {% else %}
            <img src="{% static 'images/placeholder.jpg' %}" alt="{{ destination.name }}" class="img-fluid">
          {% endif %}
        </div>
        <figcaption>
          <h3>{{ destination.name }}</h3>
          <p>{{ destination.description }}</p>
        </figcaption>
        <div class="card__post-link-content">
          <a href="{% url 'item_detail' item_title=destination.name %}" class="cta__link card__link__cta underline">Discover</a>
          <p>From ${{ destination.price|floatformat:0 }}</p>
        </div>
      </article>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Banner Section -->
<section class="container container--spacer gutter bg-white banner-section">
  <div class="row">
    <div class="col-md-6">
      <img src="{% static 'core/images/destination-feature.jpg' %}" alt="Hootel Experience" class="img-fluid">
    </div>
    <div class="col-md-6 d-flex align-items-center">
      <div class="px-4 py-5">
        <p class="subtitle">Experience Hootel Exclusive</p>
        <h2 class="heading-h">The Journey of a Lifetime</h2>
        <p>Discover the world's most exclusive experiences, curated by Hootel's team and available only to our most valued guests.</p>
        <a href="/experiences/" class="button button--dark mt-4">Explore Private Experiences</a>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
  // Destinations page specific JavaScript

  document.addEventListener('DOMContentLoaded', function() {
    // Search functionality
    const searchInput = document.getElementById('destinationSearch');
    const filterButtons = document.querySelectorAll('.filter-bar button');
    const destinations = document.querySelectorAll('.destinations-grid .slider-card');
    
    function filterDestinations() {
      const searchTerm = searchInput.value.toLowerCase();
      const activeFilter = document.querySelector('.filter-bar button.active').getAttribute('data-filter');
      
      destinations.forEach(dest => {
        const title = dest.querySelector('h3').textContent.toLowerCase();
        const description = dest.querySelector('p').textContent.toLowerCase();
        const matchesSearch = title.includes(searchTerm) || description.includes(searchTerm);
        
        let matchesFilter = true;
        if (activeFilter !== 'all') {
          if (activeFilter.startsWith('collection-')) {
            const collectionId = activeFilter.split('-')[1];
            const collections = dest.getAttribute('data-collections').split(',');
            matchesFilter = collections.includes(collectionId);
          } else {
            matchesFilter = dest.getAttribute('data-region') === activeFilter;
          }
        }
        
        dest.style.display = matchesSearch && matchesFilter ? 'block' : 'none';
      });
    }
    
    // Add search input event listener
    searchInput.addEventListener('input', filterDestinations);
    
    // Filter functionality
    filterButtons.forEach(button => {
      button.addEventListener('click', function() {
        // Update active button
        filterButtons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        
        // Filter destinations
        filterDestinations();
      });
    });
  });
</script>
{% endblock %} 