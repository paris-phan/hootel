{% extends "base.html" %}
{% load static %}

{% block title %}Experiences | Hootel Resorts, Hotels &amp; Residences{% endblock %}

{% block extra_css %}
<style>
  /* Additional styles specific to the experiences page */
  
  
  
  
  
  .experience-hero {
    position: relative;
    height: 600px;
    overflow: hidden;
    margin-bottom: 3rem;
  }
  
  .experience-hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .experience-hero-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 4rem 2rem 2rem;
    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
    color: #F3EEE7;
  }
  
  .experience-detail {
    padding: 4rem 0;
  }
  
  .experience-detail:nth-child(even) {
    background-color: #F3EEE7;
  }
  
  .experience-image {
    position: relative;
    height: 100%;
    min-height: 400px;
  }
  
  .experience-image img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .experience-content {
    padding: 2rem;
  }
  
  @media (max-width: 768px) {
    .experience-hero {
      height: 300px;
    }
    
    .experience-image {
      min-height: 300px;
    }
  }



  .destinations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .filter-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 1rem 0;
    border-bottom: 1px solid #dad9d7;
  }
  
  .filter-bar button {
    background: none;
    border: none;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-size: 0.875rem;
    letter-spacing: 0.1rem;
    text-transform: uppercase;
    color: #313131;
    opacity: 0.7;
    transition: opacity 0.3s;
  }
  
  .filter-bar button.active {
    opacity: 1;
    border-bottom: 1px solid #313131;
  }
  
  /* Search Bar Styles */
  .search-bar {
    max-width: 500px;
    margin: 0;
  }
  
  .search-bar input {
    padding: 0.75rem 1rem;
    border: none;
    border-bottom: 1px solid #dad9d7;
    border-radius: 0;
    font-size: 1rem;
    width: 100%;
    background: transparent;
  }
  
  .search-bar input:focus {
    outline: none;
    border-color: #313131;
  }
  
  /* Ensure consistent image dimensions in destination cards */
  .slider-card .media--responsive {
    height: 250px;
    overflow: hidden;
  }
  
  .slider-card .media--responsive img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }
  
  .slider-card .media--responsive img:hover {
    transform: scale(1.05);
  }
  
  @media (max-width: 768px) {
    .destination-hero {
      height: 300px;
    }
  }
  
  /* Banner Section Styles */
  .banner-section {
    position: relative;
    overflow: hidden;
  }
  
  .banner-section img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    min-height: 400px;
  }
  
  .banner-section .col-md-6 {
    padding: 0;
  }
  
  .banner-section .col-md-6:first-child {
    position: relative;
  }
  
  .banner-section .col-md-6:last-child {
    padding: 2rem;
  }





</style>
{% endblock %}

{% block content %}
<!-- Hero Banner -->
<section class="destination-hero">
  <video autoplay muted loop class="w-100">
    <source src="{% static 'videos/experiences-hero.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>

<!-- Intro Section -->
<section class="container container--spacer gutter">
  <header class="hgroup hgroup--limited text--centered">
    <p class="subtitle">Experiences at Hootel</p>
    <h2 class="heading-h">Extraordinary Journeys for the Eextraordinary</h2>
    <div class="hgroup__intro">
      <p>From spiritual pilgrimages to cultural discoveries, Hootel curates transformative experiences that immerse guests in the spirit of each destination. Each Hootel property offers its own selection of activities that celebrate the surrounding landscape and culture.</p>
    </div>
  </header>


  <!-- Search Bar -->
  <div class="search-bar mb-4">
    <input type="text" id="destinationSearch" class="form-control" placeholder="Search destinations..." aria-label="Search destinations">
  </div>
  
  <!-- Filter Bar -->
  <div class="filter-bar">
    <button class="active" data-filter="all">All Destinations</button>
    {% for collection in collections %}
      {% if not collection.is_region %}
        <button data-filter="collection-{{ collection.id }}">{{ collection.title }}</button>
      {% endif %}
    {% endfor %}
  </div>
  
  <!-- Destinations Grid -->
  <div class="destinations-grid">
    {% for destination in destinations %}
    <div class="slider-card" data-region="{{ destination.region }}" data-collections="{{ destination.collection_ids|join:',' }}">
      <article class="card card--centered">
        <div class="media media--responsive">
          {% if destination.representative_image %}
            <img src="{{ destination.representative_image }}" alt="{{ destination.name }}" class="img-fluid">
          {% else %}
            <img src="{% static 'images/placeholder.jpg' %}" alt="{{ destination.name }}" class="img-fluid">
          {% endif %}
        </div>
        <figcaption>
          <h3>{{ destination.name }}</h3>
          <p>{{ destination.description }}</p>
        </figcaption>
        <div class="card__post-link-content">
          <a href="{% url 'item_detail' item_title=destination.name %}" class="cta__link card__link__cta underline">Discover more</a>
        </div>
      </article>
    </div>
    {% endfor %}
  </div>



</section>




<!-- Call to Action Section -->
<section class="container--spacer container gutter text--centered">
  <div class="py-5">
    <h2 class="heading-h mb-4">Plan Your Hootel Journey</h2>
    <a href="#" class="button button--dark">Contact Us</a>
  </div>
</section>
{% endblock %}








{% block extra_js %}
<script>
  // Destinations page specific JavaScript
  document.addEventListener('DOMContentLoaded', function() {
    // Search functionality
    const searchInput = document.getElementById('destinationSearch');
    const filterButtons = document.querySelectorAll('.filter-bar button');
    const destinations = document.querySelectorAll('.destinations-grid .slider-card');
    
    function filterDestinations() {
      const searchTerm = searchInput.value.toLowerCase();
      const activeFilter = document.querySelector('.filter-bar button.active').getAttribute('data-filter');
      
      destinations.forEach(dest => {
        const title = dest.querySelector('h3').textContent.toLowerCase();
        const description = dest.querySelector('p').textContent.toLowerCase();
        const matchesSearch = title.includes(searchTerm) || description.includes(searchTerm);
        
        let matchesFilter = true;
        if (activeFilter !== 'all') {
          if (activeFilter.startsWith('collection-')) {
            const collectionId = activeFilter.split('-')[1];
            const collections = dest.getAttribute('data-collections').split(',');
            matchesFilter = collections.includes(collectionId);
          } else {
            matchesFilter = dest.getAttribute('data-region') === activeFilter;
          }
        }
        
        dest.style.display = matchesSearch && matchesFilter ? 'block' : 'none';
      });
    }
    
    // Add search input event listener
    searchInput.addEventListener('input', filterDestinations);
    
    // Filter functionality
    filterButtons.forEach(button => {
      button.addEventListener('click', function() {
        // Update active button
        filterButtons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        
        // Filter destinations
        filterDestinations();
      });
    });
  });
</script>
{% endblock %} 